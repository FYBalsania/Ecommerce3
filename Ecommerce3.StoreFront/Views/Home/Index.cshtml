@using Ecommerce3.StoreFront.Extensions
@model Ecommerce3.StoreFront.ViewModels.Home.IndexViewModel
@{
  ViewData["Title"] = Model.Page.MetaTitle;
}

<div class="homepage">
  <partial name="_CarouselPartial" model="@Model.Page.Images.FilterByImageTypeId(3)"/>

  @* Best Sellers *@
  @{
    var bestSellers = Model.ProductCollections.FirstOrDefault(x => x.Name == "Best Sellers");
    if (bestSellers is not null)
    {
      <section class="best-sellers-section container">
        <h2 class="section-title">Shop Our Best Sellers</h2>
        <div class="splide" id="best-sellers-slider" aria-label="Best Sellers">
          <div class="splide__track">
            <ul class="splide__list">
              @foreach (var product in bestSellers.Products)
              {
                <partial name="_ProductListItemPartial" model="product"/>
              }
            </ul>
          </div>
        </div>
      </section>
    }
  }

  @* Shop by category *@
  <section class="shopby-category">
    <div class="container">
      <h2 class="section-title">Shop By Category</h2>
      <div class="cat-cards-wrap">
        @foreach (var categoryListItemDTO in Model.CategoryListItemDTOs)
        {
          <partial name="_CategoryListItemPartial" model="categoryListItemDTO"/>
        }
      </div>
    </div>
  </section>

  @* Shop by diet *@
  <section class="shopby-diet">
    <div class="container">
      <h2 class="section-title">Shop By Diet</h2>
      <div class="diet-cards-wrap">
        <a href="#" class="diet-cards">
          <span class="diet-icon-bg">
            <img src="images/vegan-icon.svg" width="100" height="100" alt="Vegan"/>
          </span>
          <span>
            Vegan
            <img
              src="images/circle-arrow.svg"
              width="30"
              height="30"
              alt="Vegan"/>
          </span>
        </a>
        <a href="#" class="diet-cards">
          <span class="diet-icon-bg">
            <img
              src="images/keto-icon.svg"
              width="100"
              height="100"
              alt="Keto"/></span>
          <span
          >Keto
            <img
              src="images/circle-arrow.svg"
              width="30"
              height="30"
              alt="Keto"/></span>
        </a>
        <a href="#" class="diet-cards">
          <span class="diet-icon-bg">
            <img
              src="images/gluten-free.svg"
              width="100"
              height="100"
              alt="Glutten Free"/></span>
          <span
          >Glutten Free
            <img
              src="images/circle-arrow.svg"
              width="30"
              height="30"
              alt="Glutten Free"/></span>
        </a>
        <a href="#" class="diet-cards">
          <span class="diet-icon-bg">
            <img
              src="images/organic-icon.svg"
              width="100"
              height="100"
              alt="Organic"/></span>
          <span
          >Organic
            <img
              src="images/circle-arrow.svg"
              width="30"
              height="30"
              alt="Organic"/></span>
        </a>
        <a href="#" class="diet-cards">
          <span class="diet-icon-bg">
            <img
              src="images/lactose-free.svg"
              width="100"
              height="100"
              alt="Lactose Free"/></span>
          <span
          >Lactose Free
            <img
              src="images/circle-arrow.svg"
              width="30"
              height="30"
              alt="Lactose Free"/></span>
        </a>
      </div>
    </div>
  </section>

  @* Reviews *@
  <section class="customer-reviews">
    <div class="container">
      <h2 class="section-title">Customer Reviews</h2>
      <div class="reviews-content">
        <!-- Column 1 - Text Review -->
        <div class="text-review">
          <p class="review-text">
            Spice Mart has great customer service, prices are not too
            expensive, they have all sorts from fruit and nuts to sweets, I
            keep ordering for my husband, delivery is just a few days, I shall
            keep ordering,
          </p>
          <div class="star-rating">
            <span class="star">★</span>
            <span class="star">★</span>
            <span class="star">★</span>
            <span class="star">★</span>
            <span class="star half">★</span>
          </div>
          <div class="review-platforms">
            <div class="platform-badge">
              <span>Review Us On</span>
            </div>
            <div class="platform-links">
              <a href="#" class="platform-link">
                <img
                  src="images/google-review.png"
                  width="100"
                  height="35"
                  alt="Google Reviews"/>
              </a>
              <a href="#" class="platform-link">
                <img
                  src="images/trustpilot-logo.png"
                  width="100"
                  height="35"
                  alt="Trustpilot"/>
              </a>
            </div>
          </div>
        </div>

        <!-- Column 2 - Overall Rating -->
        <div class="overall-rating">
          <div class="rating-header">
            <span class="excellent">Excellent</span>
            <div class="trust-stars">
              <span class="trust-star">★</span>
              <span class="trust-star">★</span>
              <span class="trust-star">★</span>
              <span class="trust-star">★</span>
              <span class="trust-star">★</span>
            </div>
          </div>
          <p class="review-count">Based on 34,556 reviews</p>
          <img
            src="images/trustpilot-logo.png"
            width="120"
            height="30"
            alt="Trustpilot"
            class="trustpilot-logo"/>
        </div>

        <!-- Column 3 - Review Slider -->
        <div class="reviews-slider-wrapper">
          <div class="splide" id="reviews-slider">
            <div class="splide__track">
              <ul class="splide__list">
                <li class="splide__slide">
                  <div class="review-card">
                    <div class="review-header">
                      <div class="review-stars">
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                      </div>
                      <span class="verified">✓ Verified</span>
                    </div>
                    <h4 class="review-title">Great food at fair prices</h4>
                    <p class="review-excerpt">
                      Great food at fair prices. Love the unusual selection
                      and super wide variety.
                    </p>
                    <p class="reviewer-info">
                      <strong>Jill hughes</strong>, 2 hours ago
                    </p>
                  </div>
                </li>
                <li class="splide__slide">
                  <div class="review-card">
                    <div class="review-header">
                      <div class="review-stars">
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                      </div>
                      <span class="verified">✓ Verified</span>
                    </div>
                    <h4 class="review-title">Fast smooth great service</h4>
                    <p class="review-excerpt">Fast smooth great service</p>
                    <p class="reviewer-info">
                      <strong>Gerard A McGuigan</strong>, 3 hours ago
                    </p>
                  </div>
                </li>
                <li class="splide__slide">
                  <div class="review-card">
                    <div class="review-header">
                      <div class="review-stars">
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                      </div>
                      <span class="verified">✓ Verified</span>
                    </div>
                    <h4 class="review-title">Excellent quality products</h4>
                    <p class="review-excerpt">
                      Amazing quality and fast delivery. Highly recommend!
                    </p>
                    <p class="reviewer-info">
                      <strong>Sarah Johnson</strong>, 5 hours ago
                    </p>
                  </div>
                </li>
                <li class="splide__slide">
                  <div class="review-card">
                    <div class="review-header">
                      <div class="review-stars">
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                      </div>
                      <span class="verified">✓ Verified</span>
                    </div>
                    <h4 class="review-title">Best spice shop online</h4>
                    <p class="review-excerpt">
                      Great variety and competitive prices. Customer service
                      is top notch.
                    </p>
                    <p class="reviewer-info">
                      <strong>Mohammed Khan</strong>, 1 day ago
                    </p>
                  </div>
                </li>
                <li class="splide__slide">
                  <div class="review-card">
                    <div class="review-header">
                      <div class="review-stars">
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                      </div>
                      <span class="verified">✓ Verified</span>
                    </div>
                    <h4 class="review-title">Always reliable</h4>
                    <p class="review-excerpt">
                      Been ordering for years. Never disappointed with quality
                      or service.
                    </p>
                    <p class="reviewer-info">
                      <strong>Priya Patel</strong>, 2 days ago
                    </p>
                  </div>
                </li>
                <li class="splide__slide">
                  <div class="review-card">
                    <div class="review-header">
                      <div class="review-stars">
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                        <span class="review-star">★</span>
                      </div>
                      <span class="verified">✓ Verified</span>
                    </div>
                    <h4 class="review-title">Fantastic range</h4>
                    <p class="review-excerpt">
                      Love the variety of spices available. Great prices too!
                    </p>
                    <p class="reviewer-info">
                      <strong>David Brown</strong>, 3 days ago
                    </p>
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <p class="showing-latest">Showing our latest reviews</p>
        </div>
      </div>
    </div>
  </section>

  @* Newly launched *@
  @{
    var newlyLaunched = Model.ProductCollections.FirstOrDefault(x => x.Name == "Newly Launched");
    if (newlyLaunched is not null)
    {
      <div class="greenbg-heading">
        <div class="container">
          <h2 class="section-title">
            Newly Launched
            <span class="sm-heading">Checkout Some Of Our Latest Offerings</span>
          </h2>
        </div>
      </div>
      <section class="best-sellers-section container">
        <div class="splide" id="newly-launched-slider" aria-label="Best Sellers">
          <div class="splide__track">
            <ul class="splide__list">
              @foreach (var product in newlyLaunched.Products)
              {
                <partial name="_ProductListItemPartial" model="product"/>
              }
            </ul>
          </div>
        </div>
      </section>
    }
  }

  <div class="menu-overlay" id="menuOverlay"></div>
</div>
